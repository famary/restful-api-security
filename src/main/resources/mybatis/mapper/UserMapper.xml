<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.maoniya.restful.api.security.dao.UserMapper">

    <sql id="columnResult">
        id,
        role_id AS roleId,
        dep_id AS depId,
        dep_his_id AS depHisId,
        username,
        password,
        real_name AS realName,
        age,
        gender,
        phone,
        idcard,
        birthday,
        register_date AS registerDate,
        last_login_date AS lastLoginDate,
        remark,
        enabled
    </sql>

    <select id="findOne" resultType="User" parameterType="User">
        SELECT <include refid="columnResult"/> FROM tbl_ac_user WHERE 1 = 1
        <if test="username != null">
            AND username = #{username}
        </if>
        <if test="id != null">
            AND id = #{id}
        </if>
    </select>

</mapper>